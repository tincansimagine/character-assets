# 깡피소 캐릭터 에셋 확장 (Character Assets Extension)

> **이 확장은 디시인사이드 비공갤 깡갤 대피소에서 배포됐으며, 다른 곳에 해당 확장에 대해 소개할 때는 반드시 출처를 표기해주시길 바랍니다.**
> 
> **깡갤 대피소 주소: https://gall.dcinside.com/mini/tincans**

이 확장은 SillyTavern에서 대화 응답에 맥락에 맞는 이미지를 자동으로 삽입할 수 있게 해주는 기능을 제공합니다.

## 주요 기능

- 캐릭터 전용 이미지 에셋 관리
- 대화 맥락에 맞는 이미지 자동 삽입
- AI 모델의 롤플레잉 응답과 통합된 이미지 표시
- 다양한 이미지 형식 지원 (PNG, JPEG, GIF, WEBP)
- 캐릭터별 맞춤 설정 가능

## 사용 방법

### 1. 이미지 에셋 추가

캐릭터를 위한 이미지 에셋을 추가하는 방법은 두 가지가 있습니다:

- **개별 이미지 업로드**: "개별 이미지 업로드" 버튼을 클릭하고 이미지 파일을 선택한 후 키워드를 입력합니다.
- **ZIP 파일 업로드**: 여러 이미지가 담긴 ZIP 파일을 업로드합니다. 파일명이 키워드로 사용됩니다.

### 2. 이미지 키워드 선택

업로드한 이미지 중 대화에 사용할 이미지를 체크박스로 선택합니다. 선택된 이미지만 대화 중에 사용됩니다.

### 3. 프롬프트 설정

대화 프롬프트에 다음 플레이스홀더를 추가하여 이미지 기능을 활성화합니다:

- `{{img_inprompt}}`: 이미지 출력 프롬프트 전체가 이 위치에 삽입됩니다.
- `{{img_keywords}}`: 선택된 모든 이미지 키워드가 쉼표로 구분되어 이 위치에 삽입됩니다.

### 4. 정규식 설정

이미지 태그 변환을 위한 정규식을 설정할 수 있습니다:

- **찾을 패턴**: AI가 생성한 이미지 태그를 찾기 위한 정규식 패턴
- **바꿀 내용**: 찾은 태그를 실제 이미지로 변환하기 위한 HTML/CSS

## 이미지 파일 네이밍 규칙

이미지 파일명은 키워드로 직접 사용됩니다. 한 키워드에 여러 이미지를 추가하려면 다음과 같은 형식을 사용하세요:

- 기본: `키워드.확장자` (예: `joy.png`)
- 변형 1: `키워드-숫자.확장자` (예: `joy-1.png`, `joy-2.png`)
- 변형 2: `키워드.설명.확장자` (예: `joy.expressive.png`, `joy.excited.png`)

## 슬래시 명령어

- `/assets-upload label=키워드 URL`: URL에서 이미지를 다운로드하여 지정된 키워드로 업로드합니다.

## 팁

- 이미지 출력 프롬프트는 AI가 대화 맥락에 맞는 이미지를 선택하는 방법을 설명합니다. 필요에 따라 수정할 수 있습니다.
- 정규식 설정을 통해 이미지 표시 방법(크기, 스타일 등)을 변경할 수 있습니다.
- 이미지가 적절하게 표시되지 않는 경우 "기본값으로 초기화" 버튼을 사용해보세요.

## 주의사항

- 이 확장은 현재 그룹 채팅을 지원하지 않습니다.
- 너무 많은 이미지를 사용하면 토큰 소비가 증가할 수 있습니다.
- 모든 AI 모델이 HTML 태그를 정확히 생성하지 않을 수 있습니다. 